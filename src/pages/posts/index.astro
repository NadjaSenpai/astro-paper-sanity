---
// src/pages/index.astro

// SSR (astro dev / adapter) 時はサーバーサイドで 302 を返す
export function get({ redirect }) {
  return redirect("/posts/page/1", 302);
}

// SSG として静的 HTML を吐く
export const prerender = true;

// クライアント用 URL
const target = "/posts/page/1";
---

<!DOCTYPE html>
<html lang="ja">
  <head>
    <meta charset="UTF-8" />
    <title>Redirecting…</title>

    <!-- メタリフレッシュ（SSG 時） -->
    <meta http-equiv="refresh" content={`0;url=${target}`} />

    <!-- JS フォールバック（SSG 時） -->
    <script is:inline>
      {`window.location.replace("${target}");`}
    </script>
  </head>
  <body>
    <p>
      Redirecting…  
      <a href={target}>click here</a> if you’re not automatically redirected.
    </p>
  </body>
</html>
